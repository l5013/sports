<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lal.sp.dao.ISportsMatchDao">
	<!--
		这里namespace必须是UserMapper接口的路径，不然要运行的时候要报错 “is not known to the
		MapperRegistry”
	-->
	
	<insert id="publishSports" parameterType="SportsMatch">
		insert into sp_sports_match(sm_name,sm_picture,sm_content,sm_start_time,sm_end_time,sm_join_end_time,sm_persons,sm_cost,sp_address,sp_publisher,province,city,district,longitude,latitude,status,remark)
		values(#{name},#{picture},#{content},#{content},#{startTime},#{endTime},#{joinEndTime},#{persons},#{cost},#{address},#{publisher.id},#{province},#{city},#{district},#{longitude},#{latitude},#{status},#{remark})
	</insert>
	
	<insert id="applySports" parameterType="UserSportsApply">
		insert into sp_sprots_users (sp_sports_id,sp_user_id,user_phone,user_name,status,remark) values(#{sportsMatch.id},#{user.id},#{phone},#{name},#{status},#{remark})
	</insert>
</mapper>